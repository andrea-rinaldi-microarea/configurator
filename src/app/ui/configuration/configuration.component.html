<div class="row mt-2 d-flex justify-content-center">
  <div class="col-1 text-right btn btn-sm" [class.disabled]="editMode" (click)="editMode || onPrev()">
      <i class="fa fa-big fa-chevron-left text-config-light"></i>
  </div>
  <div>
    <select class="bg-config text-config-white lead" [disabled]="editMode" [(ngModel)]="currIndustry"  (change)="onIndustryChanged()">
      <option *ngFor="let industry of industryList; let i=index"  [value]="i"> 
      {{industry}}
      </option>
    </select>
  </div>
  <div class="col-1 text-left btn btn-sm" [class.disabled]="editMode" (click)="editMode || onNext()">
    <i class="fa fa-big fa-chevron-right text-config-light"></i>
  </div>
  <div class="right-toolbar" [hidden]="currIndustry == null">
      <button class="btn btn-outline-light" [hidden]="editMode" (click)="editMode=true"><i class="fa fa-big fa-pencil text-config-light"></i></button> 
      <button class="btn btn-outline-light" [hidden]="!editMode" (click)="onSave(); editMode=false"><i class="fa fa-big fa-floppy-o text-config-light"></i></button> 
      <button class="btn btn-outline-light" [hidden]="!editMode" (click)="onCancel(); editMode=false"><i class="fa fa-big fa-undo text-config-light"></i></button> 
  </div>
</div>
<div class="row mt-2" *ngIf="configuration.current"> 
  <table class="table table-sm table-borderless">
      <tr>
          <th><app-toggle class="text-config-light" [icons]="['fa-eye-slash', 'fa-eye']" [(flag)]="hideExcluded"></app-toggle></th>
          <th>Modulo</th>
          <th>Funzionalit√†<app-toggle class="ml-0 mr-0 p-0 text-config-light" [icons]="['fa-eye-slash', 'fa-eye']" [(flag)]="hideFunctionalities"></app-toggle></th>
          <th class="text-center edition-sep" [hidden]="!clients.show"><i class="fa fa-user fa-big text-user"></i> </th>
          <th class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='STD'">Standard</th>
          <th class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='PRO'">Professional</th>
          <th class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='ENT'">Enterprise</th>
      </tr> 
      <tr *ngFor="let feature of configuration.current.features | Functionality:!hideFunctionalities | Excluded:!hideExcluded" [class.unavailable]="feature.unavailable" [class.module-sep]="feature.module != ''">
          <td width="15px"><app-toggle [hidden]="feature.discontinued" [disabled]="!editMode" class="text-config-light" [icons]="['fa-ban', 'fa-sign-in']" [(flag)]="feature.unavailable"></app-toggle></td>
          <td [class.discontinued]="feature.discontinued">{{feature.module}}</td>  
          <td [class.discontinued]="feature.discontinued">{{hideFunctionalities ? "" : feature.functionality}}</td> 
          <td class="text-center edition-sep" [hidden]="!clients.show"><i class="fa in-use text-user" [class.fa-circle]="feature.fromPackage" [class.fa-check]="feature.customer"></i></td>
          <td class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='STD'">
            <app-toggle [hidden]="feature.unavailable || feature.discontinued" [disabled]="!editMode" class="text-config" [(flag)]="feature.standard" [(index)]="feature.standardType"></app-toggle>
          </td>
          <td class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='PRO'">
            <app-toggle [hidden]="feature.unavailable || feature.discontinued" [disabled]="!editMode" class="text-config" [(flag)]="feature.professional" [(index)]="feature.professionalType"></app-toggle>
          </td>
          <td class="text-center edition-sep" [class.bg-user-light]="clients.show && clients.getEdition() =='ENT'">
            <app-toggle [hidden]="feature.unavailable || feature.discontinued" [disabled]="!editMode" class="text-config" [(flag)]="feature.enterprise" [(index)]="feature.enterpriseType"></app-toggle>
          </td>
      </tr>
  </table>
</div>
